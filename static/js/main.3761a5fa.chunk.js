(this["webpackJsonptakeoff-staff-test"]=this["webpackJsonptakeoff-staff-test"]||[]).push([[1],{115:function(t,n,e){},116:function(t,n,e){"use strict";e.r(n);var c=e(0),r=e.n(c),a=e(25),o=e.n(a),u=e(12),i=e(3),s=e(36),f=e(27),j=e.n(f),d=e(28),l=(e(65),e(1)),b=function(t){var n=t.header,e=t.items,c=t.active,r=t.setMenuActive;return document.body.style.overflow=c?"hidden":"visible",Object(l.jsx)("div",{className:j()("menu",{active:c}),onClick:function(){return r(!1)},children:Object(l.jsxs)("div",{className:"menu__content",onClick:function(t){return t.stopPropagation()},children:[Object(l.jsx)("div",{className:"menu__header",children:n}),Object(l.jsx)("ul",{children:e.map((function(t,n){return Object(l.jsxs)("li",{children:[Object(l.jsx)(d.b,{to:t.href,children:t.value}),Object(l.jsx)("span",{className:"material-icons",children:t.icon})]},n)}))})]})})},h=Object(c.memo)(b),O=(e(68),function(t){var n=t.items,e=Object(c.useState)(!1),r=Object(s.a)(e,2),a=r[0],o=r[1];return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"burger-btn",onClick:function(){return o((function(t){return!t}))},children:Object(l.jsx)("span",{})}),Object(l.jsx)(h,{active:a,setMenuActive:o,header:"\u041c\u0435\u043d\u044e",items:n})]})}),m=Object(c.memo)(O),p=(e(69),function(){var t=Object(u.c)((function(t){return{pages:t.pages,isAuth:t.auth.isAuth}})).pages;return t=t.map((function(t){return t})),Object(l.jsxs)("div",{className:"header",children:[Object(l.jsx)("div",{className:"logo",children:"Takeoff Staff test"}),Object(l.jsx)(m,{items:t})]})}),v=Object(c.memo)(p),g=(e(70),function(t){var n=t.children,e=t.isError,c=t.show;return Object(l.jsx)(l.Fragment,{children:n&&(Object(l.jsx)("div",{className:j()("notification",{error:e,active:c}),children:n})||Object(l.jsx)("div",{}))})}),x=(e(71),e(21)),y=Object(c.lazy)((function(){return Promise.all([e.e(0),e.e(5)]).then(e.bind(null,127))})),k=Object(c.lazy)((function(){return Promise.all([e.e(0),e.e(6)]).then(e.bind(null,128))})),E=Object(c.lazy)((function(){return e.e(7).then(e.bind(null,129))})),w=Object(c.lazy)((function(){return Promise.all([e.e(0),e.e(4)]).then(e.bind(null,130))})),S=function(){var t=Object(u.c)((function(t){return t.notification})),n=Object(u.b)();return Object(c.useEffect)((function(){window.onerror=function(){n(Object(x.j)())}}),[n]),Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)(v,{}),Object(l.jsxs)("div",{className:"page",children:[Object(l.jsx)(c.Suspense,{fallback:"loading",children:Object(l.jsxs)(i.d,{children:[Object(l.jsx)(i.b,{path:"/takeoff-staff-test/login",render:function(){return Object(l.jsx)(y,{})}}),Object(l.jsx)(i.b,{path:"/takeoff-staff-test/signup",render:function(){return Object(l.jsx)(k,{})}}),Object(l.jsx)(i.b,{path:"/takeoff-staff-test/profile",render:function(){return Object(l.jsx)(w,{})}}),Object(l.jsx)(i.b,{path:"/takeoff-staff-test/logout",render:function(){return Object(l.jsx)(E,{})}}),Object(l.jsx)(i.b,{exact:!0,path:"/",render:function(){return Object(l.jsx)(i.a,{to:"/takeoff-staff-test/login"})}}),Object(l.jsx)(i.b,{path:"/takeoff-staff-test/",render:function(){return Object(l.jsx)(i.a,{to:"/takeoff-staff-test/login"})}})]})}),Object(l.jsx)(g,{show:(null===t||void 0===t?void 0:t.message)&&!0,isError:null===t||void 0===t?void 0:t.isError,children:null===t||void 0===t?void 0:t.message})]})]})})},_=e(29),T=e(52),N=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||_.b,A=Object(_.c)(x.c,N(Object(_.a)(T.a)));window.store=A;var F=A,U=(e(115),e(53)),M=e(54),C=e(56),D=e(55),I=function(t){Object(C.a)(e,t);var n=Object(D.a)(e);function e(t){var c;return Object(U.a)(this,e),(c=n.call(this,t)).state={hasError:!1},c}return Object(M.a)(e,[{key:"render",value:function(){return this.state.hasError?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{children:"Something went wrong"}),Object(l.jsx)("a",{href:"'/takeoff-staff-test/",children:"Home Page"})]}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(t){return{hasError:!0}}}]),e}(r.a.Component),L=function(t){o.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(d.a,{children:Object(l.jsx)(u.a,{store:t,children:Object(l.jsx)(I,{children:Object(l.jsx)(S,{})})})})}),document.getElementById("root"))};F.subscribe((function(){L(F)})),L(F)},21:function(t,n,e){"use strict";e.d(n,"c",(function(){return x})),e.d(n,"h",(function(){return y})),e.d(n,"f",(function(){return w})),e.d(n,"k",(function(){return S})),e.d(n,"g",(function(){return _})),e.d(n,"e",(function(){return T})),e.d(n,"d",(function(){return N})),e.d(n,"a",(function(){return A})),e.d(n,"i",(function(){return F})),e.d(n,"b",(function(){return U})),e.d(n,"j",(function(){return M}));var c=e(17),r=e(5),a=e(20),o=e(35),u=e(51),i=e.n(u).a.create({baseURL:"http://localhost:3001/"}),s=function(t){return i.get("forms?name="+t).then((function(t){return t}))},f=function(t){return i.get("users?login="+t).then((function(t){return t}))},j=function(t,n,e){return i.post("users",{login:t,password:n,contacts:e}).then((function(t){return t}))},d=function(t,n){return i.patch("users/"+t,n)},l=function(t,n){return i.patch("users/"+t,{contacts:n})},b=function(t,n){return i.patch("users/"+t,{contacts:n})},h="SET_DEFAULT_VALUE",O="SET_AUTH",m="SET_NOTIFICATION",p="SET_FORM",v="SET_USER",g={auth:{isAuth:!1,login:null,password:null},user:{},pages:[{value:"Log In",href:"/takeoff-staff-test/login",auth:!1},{value:"Sign Up",href:"/takeoff-staff-test/signup",auth:!1},{value:"Log Out",href:"/takeoff-staff-test/logout",auth:!0}],notification:null,forms:{}};function x(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,n=arguments.length>1?arguments[1]:void 0,e=n.type,o=n.payload;switch(e){case h:var u=Object(a.a)(t.forms[o.name].inputs);return u=u.map((function(t){return Object(r.a)(Object(r.a)({},t),{},{defaultValue:o.values[t.name]})})),Object(r.a)(Object(r.a)({},t),{},{forms:Object(r.a)(Object(r.a)({},t.forms),{},Object(c.a)({},o.name,Object(r.a)(Object(r.a)({},t.forms[o.name]),{},{inputs:u})))});case O:return Object(r.a)(Object(r.a)({},t),{},{auth:Object(r.a)({},o)});case m:return Object(r.a)(Object(r.a)({},t),{},{notification:Object(r.a)({},o)});case p:return Object(r.a)(Object(r.a)({},t),{},{forms:Object(r.a)(Object(r.a)({},t.forms),{},Object(c.a)({},o.name,o.form))});case v:return Object(r.a)(Object(r.a)({},t),{},{user:Object(r.a)(Object(r.a)({},t.user),{},{contacts:o})});default:return t}}var y=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:O,payload:{id:n,login:e,password:c,isAuth:t}}},k=function(t){return{type:v,payload:t.sort((function(t,n){return n.id-t.id}))}},E=function(t){return{type:m,payload:t}},w=function(t){return function(n){s(t).then((function(e){n(function(t,n){return{type:p,payload:{name:t,form:n}}}(t,e.data[0]))}))}},S=function(t,n){return function(e){var c=Object(o.MD5)(n).toString();j(t,c,[{id:1,name:"Your test contact",number:"70000000000",desc:"Try edit or delete this contact"}]).then((function(t){t.status>=200&&t.status<=300?(e(y(!0,t.data.id,t.data.login,t.data.password)),e(k(t.data.contacts))):e(M())})).catch((function(){e(M())}))}},_=function(t,n){return function(e){f(t,n).then((function(c){c.status>=200&&c.status<=300?c.data.length&&c.data[0].password===Object(o.MD5)(n).toString()?(e(y(!0,c.data[0].id,t,n)),e(k(c.data[0].contacts))):e(U("Uncorrect login or password",!0)):e(M())})).catch((function(){e(M())}))}},T=function(t,n){var e=n.name,c=n.number,r=n.desc;return function(n,o){var u=o(),i=u.user,s=u.auth,f=i.contacts.filter((function(n){return n.id!==t})),j={contacts:[].concat(Object(a.a)(f),[{id:t,name:e,number:c,desc:r}])};d(s.id,j).then((function(t){t.status>=200&&t.status<=300?n(k(t.data.contacts)):n(M())})).catch((function(){n(M())}))}},N=function(t){return function(n,e){var c=e(),r=c.user,a=c.auth,o=r.contacts.filter((function(n){return n.id!==t}));l(a.id,o).then((function(t){t.status>=200&&t.status<=300?n(k(t.data.contacts)):n(M())})).catch((function(){n(M())}))}},A=function(){return function(t,n){var e=n(),c=e.user,r=e.auth,o=0===c.contacts.length?1:Object(a.a)(c.contacts).sort((function(t,n){return n.id-t.id}))[0].id+1,u=[].concat(Object(a.a)(c.contacts),[{id:o,name:"",number:"",desc:""}]);b(r.id,u).then((function(n){n.status>=200&&n.status<=300?t(k(n.data.contacts)):t(M())})).catch((function(){t(M())}))}},F=function(t,n){return function(e){if(0===Object.keys(n).length)return!1;e(function(t,n){return{type:h,payload:{name:t,values:n}}}(t,n))}},U=function(t,n){return function(e){e(E({message:t,isError:n})),setTimeout((function(){e(E(null))}),3e3)}},M=function(){return function(t){t({type:m,payload:{message:"Something went wrong",isError:!0}}),setTimeout((function(){t(E(null))}),3e3)}}},65:function(t,n,e){},68:function(t,n,e){},69:function(t,n,e){},70:function(t,n,e){},71:function(t,n,e){},72:function(t,n){}},[[116,2,3]]]);
//# sourceMappingURL=main.3761a5fa.chunk.js.map