{"version":3,"sources":["Components/Burger/Menu/Menu.jsx","Components/Burger/Burger.jsx","Components/Header/Header.jsx","Components/Notification/Notification.jsx","App.js","redux/index.js","Components/ErrorBoundary/ErrorBoundary.jsx","index.js","API/index.js","redux/reducers/index.js"],"names":["Menu","header","items","active","setMenuActive","document","body","style","overflow","className","classNames","onClick","e","stopPropagation","map","item","index","to","href","value","icon","memo","Burger","useState","menuActive","bool","Header","pages","useSelector","state","isAuth","auth","el","Notification","children","isError","show","error","LoginPage","lazy","SignUpPage","Logoutpage","ProfilePage","App","notification","dispatch","useDispatch","useEffect","window","onerror","setWrong","fallback","path","render","exact","message","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","thunkMiddleware","ErrorBoundary","props","hasError","this","React","Component","rerender","ReactDOM","StrictMode","getElementById","subscribe","instance","axios","create","baseURL","API","name","get","then","res","login","password","contacts","post","response","id","data","patch","SET_DEFAULT_VALUE","SET_AUTH","SET_NOTIFICATION","SET_FORM","SET_USER","initialState","user","forms","reducer","type","payload","result","inputs","defaultValue","values","form","setAuth","setUser","sort","a","b","setNotification","getForm","setForm","signUp","hash","MD5","toString","number","desc","status","catch","length","addNotification","editContact","contactId","getState","filter","deleteContact","addContact","newId","setDefaultValue","Object","keys","setDefaultValueAC","setTimeout"],"mappings":"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","file":"static/js/main.3761a5fa.chunk.js","sourcesContent":["import classNames from 'classnames';\nimport React, { memo } from 'react';\nimport { Link } from 'react-router-dom';\nimport './Menu.css';\n\nconst Menu = ({ header, items, active, setMenuActive }) => {\n  if (active) {\n    document.body.style.overflow = 'hidden';\n  } else {\n    document.body.style.overflow = 'visible';\n  }\n  return (\n    <div className={classNames('menu', { active: active })} onClick={() => setMenuActive(false)}>\n      <div className=\"menu__content\" onClick={(e) => e.stopPropagation()}>\n        <div className=\"menu__header\">{header}</div>\n        <ul>\n          {items.map((item, index) => {\n            return (\n              <li key={index}>\n                <Link to={item.href}>{item.value}</Link>\n                <span className=\"material-icons\">{item.icon}</span>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    </div>\n  );\n};\n\nexport default memo(Menu);\n","import React, { memo, useState } from 'react';\nimport Menu from './Menu/Menu';\nimport './Burger.css';\n\nconst Burger = ({ items }) => {\n  const [menuActive, setMenuActive] = useState(false);\n\n  return (\n    <>\n      <div className=\"burger-btn\" onClick={() => setMenuActive((bool) => !bool)}>\n        <span />\n      </div>\n      <Menu active={menuActive} setMenuActive={setMenuActive} header=\"Меню\" items={items} />\n    </>\n  );\n};\n\nexport default memo(Burger);\n","import React, { memo } from 'react';\nimport { useSelector } from 'react-redux';\nimport Burger from '../Burger/Burger';\nimport './Header.css';\n\nconst Header = () => {\n  let { pages } = useSelector((state) => ({\n    pages: state.pages,\n    isAuth: state.auth.isAuth,\n  }));\n  pages = pages.map((el) => {\n    return el;\n  });\n  return (\n    <div className=\"header\">\n      <div className=\"logo\">Takeoff Staff test</div>\n      <Burger items={pages} />\n    </div>\n  );\n};\n\nexport default memo(Header);\n","import classNames from 'classnames';\nimport React from 'react';\nimport './Notification.css';\n\nconst Notification = ({ children, isError, show }) => {\n  return (\n    <>\n      {children &&\n        ((\n          <div className={classNames('notification', { error: isError, active: show })}>\n            {children}\n          </div>\n        ) || <div></div>)}\n    </>\n  );\n};\n\nexport default Notification;\n","import React, { lazy, Suspense, useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useSelector } from 'react-redux';\nimport { Redirect, Route, Switch } from 'react-router';\nimport Header from './Components/Header/Header';\nimport Notification from './Components/Notification/Notification';\nimport './pages/InputPages.css';\nimport { setWrong } from './redux/reducers';\n\nconst LoginPage = lazy(() => import('./pages/Login/LoginPage'));\nconst SignUpPage = lazy(() => import('./pages/SignUp/SignUpPage'));\nconst Logoutpage = lazy(() => import('./pages/LogOut/LogOutPage'));\nconst ProfilePage = lazy(() => import('./pages/Profile/ProfilePage'));\n\nconst App = () => {\n  const notification = useSelector((state) => state.notification);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    window.onerror = () => {\n      dispatch(setWrong());\n    };\n  }, [dispatch]);\n  return (\n    <>\n      <div className=\"container\">\n        <Header />\n        <div className=\"page\">\n          <Suspense fallback=\"loading\">\n            <Switch>\n              <Route path=\"/takeoff-staff-test/login\" render={() => <LoginPage />} />\n              <Route path=\"/takeoff-staff-test/signup\" render={() => <SignUpPage />} />\n              <Route path=\"/takeoff-staff-test/profile\" render={() => <ProfilePage />} />\n              <Route path=\"/takeoff-staff-test/logout\" render={() => <Logoutpage />} />\n              <Route exact path=\"/\" render={() => <Redirect to=\"/takeoff-staff-test/login\" />} />\n              <Route\n                path=\"/takeoff-staff-test/\"\n                render={() => <Redirect to=\"/takeoff-staff-test/login\" />}\n              />\n            </Switch>\n          </Suspense>\n          <Notification show={notification?.message && true} isError={notification?.isError}>\n            {notification?.message}\n          </Notification>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default App;\n","import { applyMiddleware, compose, createStore } from 'redux';\nimport thunkMiddleware from 'redux-thunk';\nimport reducers from './reducers';\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\n\nwindow.store = store;\nexport default store;\n","import React from 'react';\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError(error) {\n    return { hasError: true };\n  }\n  render() {\n    return this.state.hasError ? (\n      <>\n        <div>Something went wrong</div>\n        <a href=\"'/takeoff-staff-test/\">Home Page</a>\n      </>\n    ) : (\n      this.props.children\n    );\n  }\n}\n\nexport default ErrorBoundary;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport store from './redux/';\nimport './App.css';\nimport ErrorBoundary from './Components/ErrorBoundary/ErrorBoundary';\n\nlet rerender = (store) => {\n  ReactDOM.render(\n    <React.StrictMode>\n      <BrowserRouter>\n        <Provider store={store}>\n          <ErrorBoundary>\n            <App />\n          </ErrorBoundary>\n        </Provider>\n      </BrowserRouter>\n    </React.StrictMode>,\n    document.getElementById('root'),\n  );\n};\n\nstore.subscribe(() => {\n  rerender(store);\n});\nrerender(store);\n","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'http://localhost:3001/',\n});\n\nexport const API = {\n  form: (name) => {\n    return instance.get('forms?name=' + name).then((res) => res);\n  },\n  login: (login) => {\n    return instance.get('users?login=' + login).then((res) => res);\n  },\n  signup: (login, password, contacts) => {\n    return instance.post('users', { login, password, contacts }).then((response) => response);\n  },\n  edit: (id, data) => {\n    return instance.patch('users/' + id, data);\n  },\n  delete: (id, data) => {\n    return instance.patch('users/' + id, { contacts: data });\n  },\n  add: (id, data) => {\n    return instance.patch('users/' + id, { contacts: data });\n  },\n};\n","import { MD5 } from 'crypto-js';\nimport { API } from '../../API';\n\nconst SET_DEFAULT_VALUE = 'SET_DEFAULT_VALUE';\nconst SET_AUTH = 'SET_AUTH';\nconst SET_NOTIFICATION = 'SET_NOTIFICATION';\nconst SET_FORM = 'SET_FORM';\nconst SET_USER = 'SET_USER';\n\nconst initialState = {\n  auth: {\n    isAuth: false,\n    login: null,\n    password: null,\n  },\n  user: {},\n  pages: [\n    { value: 'Log In', href: '/takeoff-staff-test/login', auth: false },\n    { value: 'Sign Up', href: '/takeoff-staff-test/signup', auth: false },\n    { value: 'Log Out', href: '/takeoff-staff-test/logout', auth: true },\n  ],\n  notification: null,\n  forms: {},\n};\n\nexport default function reducer(state = initialState, { type, payload }) {\n  switch (type) {\n    case SET_DEFAULT_VALUE:\n      let result = [...state.forms[payload.name].inputs];\n      result = result.map((el) => {\n        return { ...el, defaultValue: payload.values[el.name] };\n      });\n      return {\n        ...state,\n        forms: { ...state.forms, [payload.name]: { ...state.forms[payload.name], inputs: result } },\n      };\n    case SET_AUTH: {\n      return {\n        ...state,\n        auth: {\n          ...payload,\n        },\n      };\n    }\n    case SET_NOTIFICATION: {\n      return {\n        ...state,\n        notification: { ...payload },\n      };\n    }\n    case SET_FORM: {\n      return {\n        ...state,\n        forms: { ...state.forms, [payload.name]: payload.form },\n      };\n    }\n    case SET_USER: {\n      return {\n        ...state,\n        user: { ...state.user, contacts: payload },\n      };\n    }\n    default:\n      return state;\n  }\n}\n\nexport const setDefaultValueAC = (name, values) => {\n  return { type: SET_DEFAULT_VALUE, payload: { name, values } };\n};\nexport const setAuth = (isAuth, id, login = null, password = null) => {\n  return { type: SET_AUTH, payload: { id, login, password, isAuth } };\n};\nexport const setUser = (contacts) => {\n  return { type: SET_USER, payload: contacts.sort((a, b) => b.id - a.id) };\n};\nexport const setNotification = (notification) => {\n  return { type: SET_NOTIFICATION, payload: notification };\n};\nexport const setWrongAC = () => {\n  return { type: SET_NOTIFICATION, payload: { message: 'Something went wrong', isError: true } };\n};\nexport const setForm = (name, form) => {\n  return { type: SET_FORM, payload: { name, form } };\n};\n\nexport const getForm = (name) => {\n  return (dispatch) => {\n    API.form(name).then((result) => {\n      dispatch(setForm(name, result.data[0]));\n    });\n  };\n};\n\nexport const signUp = (login, password) => {\n  return (dispatch) => {\n    const hash = MD5(password).toString();\n    const contacts = [\n      {\n        id: 1,\n        name: 'Your test contact',\n        number: '70000000000',\n        desc: 'Try edit or delete this contact',\n      },\n    ];\n    API.signup(login, hash, contacts)\n      .then((result) => {\n        if (result.status >= 200 && result.status <= 300) {\n          dispatch(setAuth(true, result.data.id, result.data.login, result.data.password));\n          dispatch(setUser(result.data.contacts));\n        } else {\n          dispatch(setWrong());\n        }\n      })\n      .catch(() => {\n        dispatch(setWrong());\n      });\n  };\n};\n\nexport const login = (login, password) => {\n  return (dispatch) => {\n    API.login(login, password)\n      .then((result) => {\n        if (result.status >= 200 && result.status <= 300) {\n          if (result.data.length && result.data[0].password === MD5(password).toString()) {\n            dispatch(setAuth(true, result.data[0].id, login, password));\n            dispatch(setUser(result.data[0].contacts));\n          } else {\n            dispatch(addNotification('Uncorrect login or password', true));\n          }\n        } else {\n          dispatch(setWrong());\n        }\n      })\n      .catch(() => {\n        dispatch(setWrong());\n      });\n  };\n};\n\nexport const editContact = (contactId, { name, number, desc }) => {\n  return (dispatch, getState) => {\n    let { user, auth } = getState();\n    let contacts = user.contacts.filter((el) => el.id !== contactId);\n    const result = { contacts: [...contacts, { id: contactId, name, number, desc }] };\n    API.edit(auth.id, result)\n      .then((result) => {\n        if (result.status >= 200 && result.status <= 300) {\n          dispatch(setUser(result.data.contacts));\n        } else {\n          dispatch(setWrong());\n        }\n      })\n      .catch(() => {\n        dispatch(setWrong());\n      });\n  };\n};\n\nexport const deleteContact = (contactId) => {\n  return (dispatch, getState) => {\n    let { user, auth } = getState();\n    const contacts = user.contacts.filter((el) => el.id !== contactId);\n    API.delete(auth.id, contacts)\n      .then((result) => {\n        if (result.status >= 200 && result.status <= 300) {\n          dispatch(setUser(result.data.contacts));\n        } else {\n          dispatch(setWrong());\n        }\n      })\n      .catch(() => {\n        dispatch(setWrong());\n      });\n  };\n};\n\nexport const addContact = () => {\n  return (dispatch, getState) => {\n    let { user, auth } = getState();\n    const newId =\n      (user.contacts.length === 0 && 1) || [...user.contacts].sort((a, b) => b.id - a.id)[0].id + 1;\n    const contacts = [...user.contacts, { id: newId, name: '', number: '', desc: '' }];\n    API.add(auth.id, contacts)\n      .then((result) => {\n        if (result.status >= 200 && result.status <= 300) {\n          dispatch(setUser(result.data.contacts));\n        } else {\n          dispatch(setWrong());\n        }\n      })\n      .catch(() => {\n        dispatch(setWrong());\n      });\n  };\n};\n\nexport const setDefaultValue = (name, values) => {\n  return (dispatch) => {\n    if (Object.keys(values).length === 0) {\n      return false;\n    }\n    dispatch(setDefaultValueAC(name, values));\n  };\n};\n\nexport const addNotification = (message, isError) => {\n  return (dispatch) => {\n    dispatch(setNotification({ message, isError }));\n    setTimeout(() => {\n      dispatch(setNotification(null));\n    }, 3000);\n  };\n};\n\nexport const setWrong = () => {\n  return (dispatch) => {\n    dispatch(setWrongAC());\n    setTimeout(() => {\n      dispatch(setNotification(null));\n    }, 3000);\n  };\n};\n"],"sourceRoot":""}